language: cpp
sudo: required
dist: trusty

os:
  - linux

before_install:
  - sudo add-apt-repository --yes ppa:beineri/opt-qt58-trusty
  - sudo apt-get -qq update

install:
  - sudo apt-get --yes install qt58-meta-full qt583d qt58base qt58canvas3d qt58connectivity qt58declarative qt58doc qt58graphicaleffects
  - sudo apt-get --yes install qt58imageformats qt58location qt58multimedia qt58qbs qt58quickcontrols qt58quickcontrols2 qt58script
  - sudo apt-get --yes install qt58scxml qt58sensors qt58serialbus qt58serialport qt58speech qt58svg qt58tools qt58translations
  - sudo apt-get --yes install qt58webchannel qt58webengine qt58websockets qt58x11extras qt58xmlpatterns
  
before_script:
  - QTDIR="/opt/qt58"
  - PATH="$QTDIR/bin:$PATH"
  - source /opt/qt58/bin/qt58-env.sh

script:
  - qmake -project
  - qmake GM-Companion.pro
  - make
